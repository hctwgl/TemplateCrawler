webpackJsonp([1],{230:function(e,t,n){function a(e){n(276)}var i=n(6)(n(253),n(290),a,null,null);e.exports=i.exports},238:function(e,t,n){"use strict";function a(e){return{get:function(t){return n.i(i.a)({url:e+"/"+t,method:"GET"})},page:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return n.i(i.a)({url:e+"/page",method:"GET",params:{page:t,size:a}})},query:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"name",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return n.i(i.a)({url:e+"/query",method:"GET",params:{q:t,field:a,page:o,size:r}})},add:function(t){return n.i(i.a)({url:e+"/add",method:"POST",data:t})},edit:function(t){return n.i(i.a)({url:e+"/edit",method:"PUT",data:t})},delete:function(t){return n.i(i.a)({url:e+"/delete/"+t,method:"DELETE",data:data})}}}n.d(t,"a",function(){return a});var i=n(84)},239:function(e,t,n){"use strict";function a(e){return/^[a-z0-9](?:[-_.+]?[a-z0-9]+)*@wallstreetcn\.com$/i.test(e.trim())}function i(e){return/^[A-Za-z0-9]+$/.test(e)}t.b=a,t.a=i},240:function(e,t,n){"use strict";var a=n(238),i=new a.a("/api/template");t.a=i},242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"query-select",props:{api:{required:!0},field:{type:String,default:"name"},page:{type:Number,default:0},size:{type:Number,default:10}},data:function(){return{options:[],value:[],loading:!1,curData:null}},mounted:function(){},methods:{setData:function(e){e&&(this.curData=e,this.options=[e],this.value=e.id)},remoteMethod:function(e){var t=this;if(null!==e&&void 0!==e&&"string"==typeof e&&0!==e.length){if(this.curData&&this.curData.name===e)return void console.log("same data");console.log(e),e&&e.trim().length>0?(this.loading=!0,this.api.query(e).then(function(e){t.options=e.data.content,t.loading=!1})):this.options=[]}},onChange:function(e){if(e){if(this.curData&&this.curData.id===e)return void console.log("same data");console.log("change "+e);var t=this.options.find(function(t){return t.id=e});this.curData=t,this.$emit("change",t)}}}}},243:function(e,t,n){"use strict";var a=n(238),i=new a.a("/api/task");t.a=i},245:function(e,t,n){var a=n(6)(n(242),n(246),null,null,null);e.exports=a.exports},246:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{filterable:"",remote:"",placeholder:"搜索","remote-method":e.remoteMethod,loading:e.loading},on:{change:e.onChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))},staticRenderFns:[]}},253:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(n(239),n(243)),i=n(240),o=n(245),r=n.n(o);t.default={name:"login",data:function(){return{formData:{username:"",password:"",authorities:null},loginRules:{domain:[{required:!0,trigger:"blur",validator:function(e,t,n){t.length<6?n(new Error("密码不能小于6位")):n()}}]},loading:!1,authorities:[],id:null,templateApi:i.a}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this,t=this.$route.params.id;this.id=t,t&&a.a.get(t).then(function(t){e.formData=t.data,e.formData.templateId&&i.a.get(e.formData.templateId).then(function(t){e.$refs.templateSelect.setData(t.data)})}),console.log("edit id : "+t)},handleCommit:function(){var e=this;this.$refs.formData.validate(function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.id?a.a.edit(e.formData).then(function(t){e.loading=!1,e.$router.push({path:"/task/page"})}).catch(function(){e.loading=!1}):a.a.add(e.formData).then(function(t){e.loading=!1,e.$router.push({path:"/task/page"})}).catch(function(){e.loading=!1})})},handleTemplateChange:function(e){console.log(e),this.formData.templateId=e.id}},components:{querySelect:r.a}}},268:function(e,t,n){t=e.exports=n(222)(!0),t.push([e.i,".tips{font-size:14px;color:#fff;margin-bottom:5px}.user-edit-container input{padding:12px 5px 12px 15px}.user-edit-container .el-input,.user-edit-container .el-select{display:inline-block;height:47px;width:85%}.user-edit-container .el-select .el-input{width:100%}.user-edit-container .svg-container{padding:6px 5px 6px 15px;color:#889aa4}.user-edit-container .login-form{left:0;right:0;width:400px;padding:35px 35px 15px;margin:120px auto}.user-edit-container .forget-pwd{color:#fff}","",{version:3,sources:["/Users/seveniu/project/self/TemplateCrawler/front/web/src/views/task/edit.vue"],names:[],mappings:"AACA,MACE,eAAgB,AAChB,WAAY,AACZ,iBAAmB,CACpB,AAkBD,2BAKI,0BAA4B,CAG/B,AAMD,+DACI,qBAAsB,AACtB,YAAa,AACb,SAAW,CACd,AACD,0CACI,UAAY,CACf,AACD,oCACI,yBAA0B,AAC1B,aAAe,CAClB,AACD,iCAEI,OAAQ,AACR,QAAS,AACT,YAAa,AACb,uBAA6B,AAC7B,iBAAmB,CACtB,AAOD,iCACI,UAAY,CACf",file:"edit.vue",sourcesContent:['/*@import "src/styles/mixin.scss";*/\n.tips {\n  font-size: 14px;\n  color: #fff;\n  margin-bottom: 5px;\n}\n.user-edit-container {\n  /*@include relative;*/\n  /*height: 100vh;*/\n  /*background-color: #2d3a4b;*/\n  /*input:-webkit-autofill {*/\n  /*-webkit-box-shadow: 0 0 0px 1000px #293444 inset !important;*/\n  /*-webkit-text-fill-color: #fff !important;*/\n  /*}*/\n  /*.title {*/\n  /*font-size: 26px;*/\n  /*font-weight: 400;*/\n  /*color: #eeeeee;*/\n  /*margin: 0px auto 40px auto;*/\n  /*text-align: center;*/\n  /*font-weight: bold;*/\n  /*}*/\n}\n.user-edit-container input {\n    /*background: transparent;*/\n    /*border: 0px;*/\n    /*-webkit-appearance: none;*/\n    /*border-radius: 0px;*/\n    padding: 12px 5px 12px 15px;\n    /*color: #eeeeee;*/\n    /*height: 47px;*/\n}\n.user-edit-container .el-input {\n    display: inline-block;\n    height: 47px;\n    width: 85%;\n}\n.user-edit-container .el-select {\n    display: inline-block;\n    height: 47px;\n    width: 85%;\n}\n.user-edit-container .el-select .el-input {\n    width: 100%;\n}\n.user-edit-container .svg-container {\n    padding: 6px 5px 6px 15px;\n    color: #889aa4;\n}\n.user-edit-container .login-form {\n    /*position: absolute;*/\n    left: 0;\n    right: 0;\n    width: 400px;\n    padding: 35px 35px 15px 35px;\n    margin: 120px auto;\n}\n.user-edit-container .el-form-item {\n    /*border: 1px solid rgba(255, 255, 255, 0.1);*/\n    /*background: rgba(0, 0, 0, 0.1);*/\n    /*border-radius: 5px;*/\n    /*color: #454545;*/\n}\n.user-edit-container .forget-pwd {\n    color: #fff;\n}\n'],sourceRoot:""}])},276:function(e,t,n){var a=n(268);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(223)("303d60e4",a,!0)},290:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user-edit-container"},[n("el-form",{ref:"formData",staticClass:"card-box login-form",attrs:{autoComplete:"on",model:e.formData,rules:e.loginRules,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[e._v("编辑")]),e._v(" "),n("el-form-item",{attrs:{prop:"username",label:"任务名"}},[n("el-input",{attrs:{name:"name",type:"text",autoComplete:"on",placeholder:"任务名"},model:{value:e.formData.name,callback:function(t){e.formData.name=t},expression:"formData.name"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"username",label:"搜索"}},[n("query-select",{ref:"templateSelect",attrs:{api:e.templateApi},on:{change:e.handleTemplateChange}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"username"}},[n("span",{staticClass:"svg-container"},[n("icon-svg",{attrs:{"icon-class":"jiedianyoujian"}})],1),e._v(" "),n("el-input",{attrs:{name:"domain",type:"number",autoComplete:"on",placeholder:"周期"},model:{value:e.formData.cycle,callback:function(t){e.formData.cycle=t},expression:"formData.cycle"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"username"}},[n("span",{staticClass:"svg-container"},[n("icon-svg",{attrs:{"icon-class":"jiedianyoujian"}})],1),e._v(" "),n("el-input",{attrs:{name:"domain",type:"number",autoComplete:"on",placeholder:"线程数"},model:{value:e.formData.threadNum,callback:function(t){e.formData.threadNum=t},expression:"formData.threadNum"}})],1),e._v(" "),n("el-form-item",[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){t.preventDefault(),e.handleCommit(t)}}},[e._v("\n                提交\n            ")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=1.3f6052e597bc002a9e55.js.map