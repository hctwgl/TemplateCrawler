{"version":3,"sources":["webpack:///static/js/1.3f6052e597bc002a9e55.js","webpack:///./src/views/task/edit.vue","webpack:///./src/api/baseApi.js?82ac","webpack:///./src/utils/validate.js?1382","webpack:///./src/api/template.js?5fe7","webpack:///querySelect.vue?51c1","webpack:///./src/api/task.js","webpack:///./src/components/querySelect.vue?87e8","webpack:///./src/components/querySelect.vue?2fb7*","webpack:///edit.vue?68ee","webpack:///./src/views/task/edit.vue?3ae8","webpack:///./src/views/task/edit.vue?a0e1","webpack:///./src/views/task/edit.vue?2cf8"],"names":["webpackJsonp","230","module","exports","__webpack_require__","injectStyle","ssrContext","Component","238","__webpack_exports__","BaseApi","baseUri","get","id","i","__WEBPACK_IMPORTED_MODULE_0__utils_fetch__","url","method","page","arguments","length","undefined","size","params","query","q","field","add","data","edit","delete","d","239","isWscnEmail","str","test","trim","validatAlphabetsAndNum","240","__WEBPACK_IMPORTED_MODULE_0__baseApi__","api","242","Object","defineProperty","value","name","props","required","type","String","default","Number","options","loading","curData","mounted","methods","setData","this","remoteMethod","_this","console","log","then","response","content","onChange","find","v","$emit","243","245","246","render","_vm","_h","$createElement","_c","_self","attrs","filterable","remote","placeholder","remote-method","on","change","model","callback","$$v","expression","_l","item","key","label","staticRenderFns","253","__WEBPACK_IMPORTED_MODULE_1__api_task__","__WEBPACK_IMPORTED_MODULE_2__api_template__","__WEBPACK_IMPORTED_MODULE_3__components_querySelect__","__WEBPACK_IMPORTED_MODULE_3__components_querySelect___default","n","formData","username","password","authorities","loginRules","domain","trigger","validator","rule","Error","templateApi","created","fetchData","$route","templateId","$refs","templateSelect","handleCommit","_this2","validate","valid","$router","push","path","catch","handleTemplateChange","components","querySelect","a","268","version","sources","names","mappings","file","sourcesContent","sourceRoot","276","locals","290","staticClass","ref","autoComplete","rules","label-position","label-width","_v","prop","icon-class","cycle","threadNum","staticStyle","width","nativeOn","click","$event","preventDefault"],"mappings":"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","file":"static/js/1.3f6052e597bc002a9e55.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 230:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(276)\n}\nvar Component = __webpack_require__(6)(\n  /* script */\n  __webpack_require__(253),\n  /* template */\n  __webpack_require__(290),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 238:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return BaseApi; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_fetch__ = __webpack_require__(84);\n\n\n\nfunction BaseApi(baseUri) {\n  return {\n    get: function get(id) {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: baseUri + '/' + id,\n        method: 'GET'\n      });\n    },\n    page: function page() {\n      var _page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      var size = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 10;\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: baseUri + '/page',\n        method: 'GET',\n        params: {\n          page: _page,\n          size: size\n        }\n      });\n    },\n    query: function query(q) {\n      var field = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'name';\n      var page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      var size = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 10;\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: baseUri + '/query',\n        method: 'GET',\n        params: {\n          q: q,\n          field: field,\n          page: page,\n          size: size\n        }\n      });\n    },\n    add: function add(data) {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: baseUri + '/add',\n        method: 'POST',\n        data: data\n      });\n    },\n    edit: function edit(data) {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: baseUri + '/edit',\n        method: 'PUT',\n        data: data\n      });\n    },\n    delete: function _delete(id) {\n      return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_fetch__[\"a\" /* default */])({\n        url: baseUri + '/delete/' + id,\n        method: 'DELETE',\n        data: data\n      });\n    }\n  };\n}\n\n/***/ }),\n\n/***/ 239:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = isWscnEmail;\n/* unused harmony export validateURL */\n/* unused harmony export validateLowerCase */\n/* unused harmony export validateUpperCase */\n/* unused harmony export validatAlphabets */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = validatAlphabetsAndNum;\n/**\n * Created by jiachenpan on 16/11/18.\n */\n\n/* 是否是公司邮箱*/\nfunction isWscnEmail(str) {\n  var reg = /^[a-z0-9](?:[-_.+]?[a-z0-9]+)*@wallstreetcn\\.com$/i;\n  return reg.test(str.trim());\n}\n\n/* 合法uri*/\nfunction validateURL(textval) {\n  var urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\n  return urlregex.test(textval);\n}\n\n/* 小写字母*/\nfunction validateLowerCase(str) {\n  var reg = /^[a-z]+$/;\n  return reg.test(str);\n}\n\n/* 大写字母*/\nfunction validateUpperCase(str) {\n  var reg = /^[A-Z]+$/;\n  return reg.test(str);\n}\n\n/* 大小写字母*/\nfunction validatAlphabets(str) {\n  var reg = /^[A-Za-z]+$/;\n  return reg.test(str);\n}\n/* 大小写字母*/\nfunction validatAlphabetsAndNum(str) {\n  var reg = /^[A-Za-z0-9]+$/;\n  return reg.test(str);\n}\n\n/***/ }),\n\n/***/ 240:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(238);\n// import fetch from '@/utils/fetch';\n\n\nvar baseUri = '/api/template';\n\nvar api = new __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */](baseUri);\n/* harmony default export */ __webpack_exports__[\"a\"] = (api);\n\n/***/ }),\n\n/***/ 242:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'query-select',\n  props: {\n    api: {\n      required: true\n    },\n    field: {\n      type: String,\n      default: 'name'\n    },\n    page: {\n      type: Number,\n      default: 0\n    },\n    size: {\n      type: Number,\n      default: 10\n    }\n  },\n  data: function data() {\n    return {\n      options: [],\n      value: [],\n      loading: false,\n      curData: null\n    };\n  },\n  mounted: function mounted() {},\n\n  methods: {\n    setData: function setData(data) {\n      if (data) {\n        this.curData = data;\n        this.options = [data];\n        this.value = data.id;\n      }\n    },\n    remoteMethod: function remoteMethod(query) {\n      var _this = this;\n\n      if (query === null || query === undefined || typeof query !== 'string' || query.length === 0) {\n        return;\n      }\n      if (this.curData && this.curData.name === query) {\n        console.log('same data');\n        return;\n      }\n      console.log(query);\n      if (query && query.trim().length > 0) {\n        this.loading = true;\n        this.api.query(query).then(function (response) {\n          _this.options = response.data.content;\n          _this.loading = false;\n        });\n      } else {\n        this.options = [];\n      }\n    },\n    onChange: function onChange(value) {\n      if (value) {\n        if (this.curData && this.curData.id === value) {\n          console.log('same data');\n          return;\n        }\n        console.log('change ' + value);\n        var data = this.options.find(function (v) {\n          return v.id = value;\n        });\n        this.curData = data;\n        this.$emit('change', data);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 243:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__baseApi__ = __webpack_require__(238);\n// import fetch from '@/utils/fetch';\n\n\nvar baseUri = '/api/task';\n\nvar api = new __WEBPACK_IMPORTED_MODULE_0__baseApi__[\"a\" /* default */](baseUri);\n/* harmony default export */ __webpack_exports__[\"a\"] = (api);\n\n/***/ }),\n\n/***/ 245:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(6)(\n  /* script */\n  __webpack_require__(242),\n  /* template */\n  __webpack_require__(246),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-select', {\n    attrs: {\n      \"filterable\": \"\",\n      \"remote\": \"\",\n      \"placeholder\": \"搜索\",\n      \"remote-method\": _vm.remoteMethod,\n      \"loading\": _vm.loading\n    },\n    on: {\n      \"change\": _vm.onChange\n    },\n    model: {\n      value: (_vm.value),\n      callback: function($$v) {\n        _vm.value = $$v\n      },\n      expression: \"value\"\n    }\n  }, _vm._l((_vm.options), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 253:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_validate__ = __webpack_require__(239);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_task__ = __webpack_require__(243);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_template__ = __webpack_require__(240);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_querySelect__ = __webpack_require__(245);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_querySelect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_querySelect__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'login',\n  data: function data() {\n    var validateUsername = function validateUsername(rule, value, callback) {\n      if (!__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils_validate__[\"a\" /* validatAlphabetsAndNum */])(value)) {\n        callback(new Error('请输入正确的合法邮箱'));\n      } else if (value.length < 4) {\n        callback(new Error('用户名长度不能小于4'));\n      } else {\n        callback();\n      }\n    };\n    var validatePass = function validatePass(rule, value, callback) {\n      if (value.length < 6) {\n        callback(new Error('密码不能小于6位'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      formData: {\n        username: '',\n        password: '',\n        authorities: null\n      },\n      loginRules: {\n        domain: [{ required: true, trigger: 'blur', validator: validatePass }]\n      },\n      loading: false,\n      authorities: [],\n      id: null,\n      templateApi: __WEBPACK_IMPORTED_MODULE_2__api_template__[\"a\" /* default */]\n    };\n  },\n  created: function created() {\n    this.fetchData();\n  },\n\n  methods: {\n    fetchData: function fetchData() {\n      var _this = this;\n\n      var id = this.$route.params.id;\n      this.id = id;\n      if (id) {\n        __WEBPACK_IMPORTED_MODULE_1__api_task__[\"a\" /* default */].get(id).then(function (response) {\n          _this.formData = response.data;\n          if (_this.formData.templateId) {\n            __WEBPACK_IMPORTED_MODULE_2__api_template__[\"a\" /* default */].get(_this.formData.templateId).then(function (response) {\n              _this.$refs.templateSelect.setData(response.data);\n            });\n          }\n        });\n      }\n      console.log('edit id : ' + id);\n    },\n    handleCommit: function handleCommit() {\n      var _this2 = this;\n\n      this.$refs.formData.validate(function (valid) {\n        if (valid) {\n          _this2.loading = true;\n          if (_this2.id) {\n            __WEBPACK_IMPORTED_MODULE_1__api_task__[\"a\" /* default */].edit(_this2.formData).then(function (response) {\n              //            this.authorities = response.data.content;\n              _this2.loading = false;\n              _this2.$router.push({ path: '/task/page' });\n            }).catch(function () {\n              _this2.loading = false;\n            });\n          } else {\n            __WEBPACK_IMPORTED_MODULE_1__api_task__[\"a\" /* default */].add(_this2.formData).then(function (response) {\n              //            this.authorities = response.data.content;\n              _this2.loading = false;\n              _this2.$router.push({ path: '/task/page' });\n            }).catch(function () {\n              _this2.loading = false;\n            });\n          }\n          //            this.$store.dispatch('Login', this.formData).then(() => {\n          //              this.loading = false;\n          //              this.$router.push({ path: '/' });\n          //            }).catch(() => {\n          //            });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    handleTemplateChange: function handleTemplateChange(data) {\n      console.log(data);\n      this.formData.templateId = data.id;\n    }\n  },\n  components: {\n    querySelect: __WEBPACK_IMPORTED_MODULE_3__components_querySelect___default.a\n  }\n});\n\n/***/ }),\n\n/***/ 268:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(222)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".tips{font-size:14px;color:#fff;margin-bottom:5px}.user-edit-container input{padding:12px 5px 12px 15px}.user-edit-container .el-input,.user-edit-container .el-select{display:inline-block;height:47px;width:85%}.user-edit-container .el-select .el-input{width:100%}.user-edit-container .svg-container{padding:6px 5px 6px 15px;color:#889aa4}.user-edit-container .login-form{left:0;right:0;width:400px;padding:35px 35px 15px;margin:120px auto}.user-edit-container .forget-pwd{color:#fff}\", \"\", {\"version\":3,\"sources\":[\"/Users/seveniu/project/self/TemplateCrawler/front/web/src/views/task/edit.vue\"],\"names\":[],\"mappings\":\"AACA,MACE,eAAgB,AAChB,WAAY,AACZ,iBAAmB,CACpB,AAkBD,2BAKI,0BAA4B,CAG/B,AAMD,+DACI,qBAAsB,AACtB,YAAa,AACb,SAAW,CACd,AACD,0CACI,UAAY,CACf,AACD,oCACI,yBAA0B,AAC1B,aAAe,CAClB,AACD,iCAEI,OAAQ,AACR,QAAS,AACT,YAAa,AACb,uBAA6B,AAC7B,iBAAmB,CACtB,AAOD,iCACI,UAAY,CACf\",\"file\":\"edit.vue\",\"sourcesContent\":[\"/*@import \\\"src/styles/mixin.scss\\\";*/\\n.tips {\\n  font-size: 14px;\\n  color: #fff;\\n  margin-bottom: 5px;\\n}\\n.user-edit-container {\\n  /*@include relative;*/\\n  /*height: 100vh;*/\\n  /*background-color: #2d3a4b;*/\\n  /*input:-webkit-autofill {*/\\n  /*-webkit-box-shadow: 0 0 0px 1000px #293444 inset !important;*/\\n  /*-webkit-text-fill-color: #fff !important;*/\\n  /*}*/\\n  /*.title {*/\\n  /*font-size: 26px;*/\\n  /*font-weight: 400;*/\\n  /*color: #eeeeee;*/\\n  /*margin: 0px auto 40px auto;*/\\n  /*text-align: center;*/\\n  /*font-weight: bold;*/\\n  /*}*/\\n}\\n.user-edit-container input {\\n    /*background: transparent;*/\\n    /*border: 0px;*/\\n    /*-webkit-appearance: none;*/\\n    /*border-radius: 0px;*/\\n    padding: 12px 5px 12px 15px;\\n    /*color: #eeeeee;*/\\n    /*height: 47px;*/\\n}\\n.user-edit-container .el-input {\\n    display: inline-block;\\n    height: 47px;\\n    width: 85%;\\n}\\n.user-edit-container .el-select {\\n    display: inline-block;\\n    height: 47px;\\n    width: 85%;\\n}\\n.user-edit-container .el-select .el-input {\\n    width: 100%;\\n}\\n.user-edit-container .svg-container {\\n    padding: 6px 5px 6px 15px;\\n    color: #889aa4;\\n}\\n.user-edit-container .login-form {\\n    /*position: absolute;*/\\n    left: 0;\\n    right: 0;\\n    width: 400px;\\n    padding: 35px 35px 15px 35px;\\n    margin: 120px auto;\\n}\\n.user-edit-container .el-form-item {\\n    /*border: 1px solid rgba(255, 255, 255, 0.1);*/\\n    /*background: rgba(0, 0, 0, 0.1);*/\\n    /*border-radius: 5px;*/\\n    /*color: #454545;*/\\n}\\n.user-edit-container .forget-pwd {\\n    color: #fff;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 276:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(268);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(223)(\"303d60e4\", content, true);\n\n/***/ }),\n\n/***/ 290:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"user-edit-container\"\n  }, [_c('el-form', {\n    ref: \"formData\",\n    staticClass: \"card-box login-form\",\n    attrs: {\n      \"autoComplete\": \"on\",\n      \"model\": _vm.formData,\n      \"rules\": _vm.loginRules,\n      \"label-position\": \"left\",\n      \"label-width\": \"0px\"\n    }\n  }, [_c('h3', {\n    staticClass: \"title\"\n  }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"username\",\n      \"label\": \"任务名\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"name\": \"name\",\n      \"type\": \"text\",\n      \"autoComplete\": \"on\",\n      \"placeholder\": \"任务名\"\n    },\n    model: {\n      value: (_vm.formData.name),\n      callback: function($$v) {\n        _vm.formData.name = $$v\n      },\n      expression: \"formData.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"username\",\n      \"label\": \"搜索\"\n    }\n  }, [_c('query-select', {\n    ref: \"templateSelect\",\n    attrs: {\n      \"api\": _vm.templateApi\n    },\n    on: {\n      \"change\": _vm.handleTemplateChange\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"username\"\n    }\n  }, [_c('span', {\n    staticClass: \"svg-container\"\n  }, [_c('icon-svg', {\n    attrs: {\n      \"icon-class\": \"jiedianyoujian\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-input', {\n    attrs: {\n      \"name\": \"domain\",\n      \"type\": \"number\",\n      \"autoComplete\": \"on\",\n      \"placeholder\": \"周期\"\n    },\n    model: {\n      value: (_vm.formData.cycle),\n      callback: function($$v) {\n        _vm.formData.cycle = $$v\n      },\n      expression: \"formData.cycle\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"username\"\n    }\n  }, [_c('span', {\n    staticClass: \"svg-container\"\n  }, [_c('icon-svg', {\n    attrs: {\n      \"icon-class\": \"jiedianyoujian\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-input', {\n    attrs: {\n      \"name\": \"domain\",\n      \"type\": \"number\",\n      \"autoComplete\": \"on\",\n      \"placeholder\": \"线程数\"\n    },\n    model: {\n      value: (_vm.formData.threadNum),\n      callback: function($$v) {\n        _vm.formData.threadNum = $$v\n      },\n      expression: \"formData.threadNum\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.loading\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.handleCommit($event)\n      }\n    }\n  }, [_vm._v(\"\\n                提交\\n            \")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.3f6052e597bc002a9e55.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76f116ef\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./edit.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./edit.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76f116ef\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./edit.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/task/edit.vue\n// module id = 230\n// module chunks = 1","import fetch from '@/utils/fetch';\n\nexport default function BaseApi(baseUri) {\n  return {\n    get: id => fetch({\n      url: baseUri + '/' + id,\n      method: 'GET'\n    }),\n    page: (page = 0, size = 10) => fetch({\n      url: baseUri + '/page',\n      method: 'GET',\n      params: {\n        page,\n        size\n      }\n    }),\n    query: (q, field = 'name', page = 0, size = 10) => fetch({\n      url: baseUri + '/query',\n      method: 'GET',\n      params: {\n        q,\n        field,\n        page,\n        size\n      }\n    }),\n    add: data => fetch({\n      url: baseUri + '/add',\n      method: 'POST',\n      data\n    }),\n    edit: data => fetch({\n      url: baseUri + '/edit',\n      method: 'PUT',\n      data\n    }),\n    delete: id => fetch({\n      url: baseUri + '/delete/' + id,\n      method: 'DELETE',\n      data\n    })\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/baseApi.js","/**\n * Created by jiachenpan on 16/11/18.\n */\n\n/* 是否是公司邮箱*/\nexport function isWscnEmail(str) {\n  const reg = /^[a-z0-9](?:[-_.+]?[a-z0-9]+)*@wallstreetcn\\.com$/i;\n  return reg.test(str.trim());\n}\n\n/* 合法uri*/\nexport function validateURL(textval) {\n  const urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?'\\\\+&%$#=~_-]+))*$/;\n  return urlregex.test(textval);\n}\n\n/* 小写字母*/\nexport function validateLowerCase(str) {\n  const reg = /^[a-z]+$/;\n  return reg.test(str);\n}\n\n/* 大写字母*/\nexport function validateUpperCase(str) {\n  const reg = /^[A-Z]+$/;\n  return reg.test(str);\n}\n\n/* 大小写字母*/\nexport function validatAlphabets(str) {\n  const reg = /^[A-Za-z]+$/;\n  return reg.test(str);\n}\n/* 大小写字母*/\nexport function validatAlphabetsAndNum(str) {\n  const reg = /^[A-Za-z0-9]+$/;\n  return reg.test(str);\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/validate.js","// import fetch from '@/utils/fetch';\nimport BaseApi from './baseApi';\n\nconst baseUri = '/api/template';\n\nconst api = new BaseApi(baseUri);\nexport default api;\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/template.js","<template>\n  <el-select\n      v-model=\"value\"\n      filterable\n      remote\n      placeholder=\"搜索\"\n      v-on:change=\"onChange\"\n      :remote-method=\"remoteMethod\"\n      :loading=\"loading\">\n    <el-option\n        v-for=\"item in options\"\n        :key=\"item.id\"\n        :label=\"item.name\"\n        :value=\"item.id\">\n    </el-option>\n  </el-select>\n</template>\n\n<script>\n  export default {\n    name: 'query-select',\n    props: {\n      api: {\n        required: true\n      },\n      field: {\n        type: String,\n        default: 'name'\n      },\n      page: {\n        type: Number,\n        default: 0\n      },\n      size: {\n        type: Number,\n        default: 10\n      }\n    },\n    data() {\n      return {\n        options: [],\n        value: [],\n        loading: false,\n        curData: null\n      }\n    },\n    mounted() {\n    },\n    methods: {\n      setData(data) {\n        if (data) {\n          this.curData = data;\n          this.options = [data];\n          this.value = data.id;\n        }\n      },\n      remoteMethod(query) {\n        if (query === null || query === undefined || typeof (query) !== 'string' || query.length === 0) {\n          return\n        }\n        if (this.curData && this.curData.name === query) {\n          console.log('same data');\n          return\n        }\n        console.log(query);\n        if (query && query.trim().length > 0) {\n          this.loading = true;\n          this.api.query(query).then(response => {\n            this.options = response.data.content;\n            this.loading = false;\n          });\n        } else {\n          this.options = [];\n        }\n      },\n      onChange(value) {\n        if (value) {\n          if (this.curData && this.curData.id === value) {\n            console.log('same data');\n            return\n          }\n          console.log('change ' + value);\n          const data = this.options.find(v => v.id = value);\n          this.curData = data;\n          this.$emit('change', data)\n        }\n      }\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// querySelect.vue?132eb5fb","// import fetch from '@/utils/fetch';\nimport BaseApi from './baseApi';\n\nconst baseUri = '/api/task';\n\nconst api = new BaseApi(baseUri);\nexport default api;\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/task.js","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./querySelect.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1af85b1f\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./querySelect.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/querySelect.vue\n// module id = 245\n// module chunks = 0 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-select', {\n    attrs: {\n      \"filterable\": \"\",\n      \"remote\": \"\",\n      \"placeholder\": \"搜索\",\n      \"remote-method\": _vm.remoteMethod,\n      \"loading\": _vm.loading\n    },\n    on: {\n      \"change\": _vm.onChange\n    },\n    model: {\n      value: (_vm.value),\n      callback: function($$v) {\n        _vm.value = $$v\n      },\n      expression: \"value\"\n    }\n  }, _vm._l((_vm.options), function(item) {\n    return _c('el-option', {\n      key: item.id,\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.id\n      }\n    })\n  }))\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1af85b1f\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/querySelect.vue\n// module id = 246\n// module chunks = 0 1","<template>\n    <div class=\"user-edit-container\">\n        <el-form autoComplete=\"on\" :model=\"formData\" :rules=\"loginRules\" ref=\"formData\" label-position=\"left\" label-width=\"0px\"\n        class=\"card-box login-form\">\n            <h3 class=\"title\">编辑</h3>\n            <el-form-item prop=\"username\" label=\"任务名\">\n                <el-input name=\"name\" type=\"text\" v-model=\"formData.name\" autoComplete=\"on\" placeholder=\"任务名\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"username\" label=\"搜索\">\n                <query-select :api=\"templateApi\" v-on:change=\"handleTemplateChange\" ref=\"templateSelect\"></query-select>\n            </el-form-item>\n            <el-form-item prop=\"username\">\n                <span class=\"svg-container\"> <icon-svg icon-class=\"jiedianyoujian\"></icon-svg> </span>\n                <el-input name=\"domain\" type=\"number\" v-model=\"formData.cycle\" autoComplete=\"on\" placeholder=\"周期\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"username\">\n                <span class=\"svg-container\"> <icon-svg icon-class=\"jiedianyoujian\"></icon-svg> </span>\n                <el-input name=\"domain\" type=\"number\" v-model=\"formData.threadNum\" autoComplete=\"on\" placeholder=\"线程数\"></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" style=\"width:100%;\" :loading=\"loading\" @click.native.prevent=\"handleCommit\">\n                    提交\n                </el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\n  import { validatAlphabetsAndNum } from '@/utils/validate';\n  import api from '@/api/task';\n  import templateApi from '@/api/template';\n  import querySelect from '@/components/querySelect';\n\n  export default {\n    name: 'login',\n    data() {\n      const validateUsername = (rule, value, callback) => {\n        if (!validatAlphabetsAndNum(value)) {\n          callback(new Error('请输入正确的合法邮箱'));\n        } else if (value.length < 4) {\n          callback(new Error('用户名长度不能小于4'));\n        } else {\n          callback();\n        }\n      };\n      const validatePass = (rule, value, callback) => {\n        if (value.length < 6) {\n          callback(new Error('密码不能小于6位'));\n        } else {\n          callback();\n        }\n      };\n      return {\n        formData: {\n          username: '',\n          password: '',\n          authorities: null\n        },\n        loginRules: {\n          domain: [\n            { required: true, trigger: 'blur', validator: validatePass }\n          ]\n        },\n        loading: false,\n        authorities: [],\n        id: null,\n        templateApi\n      }\n    },\n    created() {\n      this.fetchData();\n    },\n    methods: {\n      fetchData() {\n        const id = this.$route.params.id;\n        this.id = id;\n        if (id) {\n          api.get(id).then(response => {\n            this.formData = response.data;\n            if (this.formData.templateId) {\n              templateApi.get(this.formData.templateId).then(response => {\n                this.$refs.templateSelect.setData(response.data)\n              })\n            }\n          });\n        }\n        console.log('edit id : ' + id);\n      },\n      handleCommit() {\n        this.$refs.formData.validate(valid => {\n          if (valid) {\n            this.loading = true;\n            if (this.id) {\n              api.edit(this.formData).then(response => {\n                //            this.authorities = response.data.content;\n                this.loading = false;\n                this.$router.push({ path: '/task/page' });\n              }).catch(() => {\n                this.loading = false;\n              });\n            } else {\n              api.add(this.formData).then(response => {\n    //            this.authorities = response.data.content;\n                this.loading = false;\n                this.$router.push({ path: '/task/page' });\n              }).catch(() => {\n                this.loading = false;\n              });\n            }\n//            this.$store.dispatch('Login', this.formData).then(() => {\n//              this.loading = false;\n//              this.$router.push({ path: '/' });\n//            }).catch(() => {\n//            });\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n      },\n      handleTemplateChange(data) {\n        console.log(data);\n        this.formData.templateId = data.id;\n      }\n    },\n    components: {\n      querySelect\n    }\n  }\n</script>\n\n<style rel=\"stylesheet/scss\" lang=\"scss\">\n    /*@import \"src/styles/mixin.scss\";*/\n    .tips {\n        font-size: 14px;\n        color: #fff;\n        margin-bottom: 5px;\n    }\n\n    .user-edit-container {\n    /*@include relative;*/\n        /*height: 100vh;*/\n        /*background-color: #2d3a4b;*/\n    /*input:-webkit-autofill {*/\n        /*-webkit-box-shadow: 0 0 0px 1000px #293444 inset !important;*/\n        /*-webkit-text-fill-color: #fff !important;*/\n    /*}*/\n    input {\n        /*background: transparent;*/\n        /*border: 0px;*/\n        /*-webkit-appearance: none;*/\n        /*border-radius: 0px;*/\n        padding: 12px 5px 12px 15px;\n        /*color: #eeeeee;*/\n        /*height: 47px;*/\n    }\n    .el-input {\n        display: inline-block;\n        height: 47px;\n        width: 85%;\n    }\n    .el-select {\n        display: inline-block;\n        height: 47px;\n        width: 85%;\n    }\n    .el-select .el-input {\n        width: 100%;\n    }\n    .svg-container {\n        padding: 6px 5px 6px 15px;\n        color: #889aa4;\n    }\n    /*.title {*/\n        /*font-size: 26px;*/\n        /*font-weight: 400;*/\n        /*color: #eeeeee;*/\n        /*margin: 0px auto 40px auto;*/\n        /*text-align: center;*/\n        /*font-weight: bold;*/\n    /*}*/\n    .login-form {\n        /*position: absolute;*/\n        left: 0;\n        right: 0;\n        width: 400px;\n        padding: 35px 35px 15px 35px;\n        margin: 120px auto;\n    }\n    .el-form-item {\n        /*border: 1px solid rgba(255, 255, 255, 0.1);*/\n        /*background: rgba(0, 0, 0, 0.1);*/\n        /*border-radius: 5px;*/\n        /*color: #454545;*/\n    }\n    .forget-pwd {\n        color: #fff;\n    }\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// edit.vue?3073c08e","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".tips{font-size:14px;color:#fff;margin-bottom:5px}.user-edit-container input{padding:12px 5px 12px 15px}.user-edit-container .el-input,.user-edit-container .el-select{display:inline-block;height:47px;width:85%}.user-edit-container .el-select .el-input{width:100%}.user-edit-container .svg-container{padding:6px 5px 6px 15px;color:#889aa4}.user-edit-container .login-form{left:0;right:0;width:400px;padding:35px 35px 15px;margin:120px auto}.user-edit-container .forget-pwd{color:#fff}\", \"\", {\"version\":3,\"sources\":[\"/Users/seveniu/project/self/TemplateCrawler/front/web/src/views/task/edit.vue\"],\"names\":[],\"mappings\":\"AACA,MACE,eAAgB,AAChB,WAAY,AACZ,iBAAmB,CACpB,AAkBD,2BAKI,0BAA4B,CAG/B,AAMD,+DACI,qBAAsB,AACtB,YAAa,AACb,SAAW,CACd,AACD,0CACI,UAAY,CACf,AACD,oCACI,yBAA0B,AAC1B,aAAe,CAClB,AACD,iCAEI,OAAQ,AACR,QAAS,AACT,YAAa,AACb,uBAA6B,AAC7B,iBAAmB,CACtB,AAOD,iCACI,UAAY,CACf\",\"file\":\"edit.vue\",\"sourcesContent\":[\"/*@import \\\"src/styles/mixin.scss\\\";*/\\n.tips {\\n  font-size: 14px;\\n  color: #fff;\\n  margin-bottom: 5px;\\n}\\n.user-edit-container {\\n  /*@include relative;*/\\n  /*height: 100vh;*/\\n  /*background-color: #2d3a4b;*/\\n  /*input:-webkit-autofill {*/\\n  /*-webkit-box-shadow: 0 0 0px 1000px #293444 inset !important;*/\\n  /*-webkit-text-fill-color: #fff !important;*/\\n  /*}*/\\n  /*.title {*/\\n  /*font-size: 26px;*/\\n  /*font-weight: 400;*/\\n  /*color: #eeeeee;*/\\n  /*margin: 0px auto 40px auto;*/\\n  /*text-align: center;*/\\n  /*font-weight: bold;*/\\n  /*}*/\\n}\\n.user-edit-container input {\\n    /*background: transparent;*/\\n    /*border: 0px;*/\\n    /*-webkit-appearance: none;*/\\n    /*border-radius: 0px;*/\\n    padding: 12px 5px 12px 15px;\\n    /*color: #eeeeee;*/\\n    /*height: 47px;*/\\n}\\n.user-edit-container .el-input {\\n    display: inline-block;\\n    height: 47px;\\n    width: 85%;\\n}\\n.user-edit-container .el-select {\\n    display: inline-block;\\n    height: 47px;\\n    width: 85%;\\n}\\n.user-edit-container .el-select .el-input {\\n    width: 100%;\\n}\\n.user-edit-container .svg-container {\\n    padding: 6px 5px 6px 15px;\\n    color: #889aa4;\\n}\\n.user-edit-container .login-form {\\n    /*position: absolute;*/\\n    left: 0;\\n    right: 0;\\n    width: 400px;\\n    padding: 35px 35px 15px 35px;\\n    margin: 120px auto;\\n}\\n.user-edit-container .el-form-item {\\n    /*border: 1px solid rgba(255, 255, 255, 0.1);*/\\n    /*background: rgba(0, 0, 0, 0.1);*/\\n    /*border-radius: 5px;*/\\n    /*color: #454545;*/\\n}\\n.user-edit-container .forget-pwd {\\n    color: #fff;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-76f116ef\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/task/edit.vue\n// module id = 268\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76f116ef\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./edit.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"303d60e4\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-76f116ef\",\"scoped\":false,\"hasInlineConfig\":false}!./~/sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/task/edit.vue\n// module id = 276\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"user-edit-container\"\n  }, [_c('el-form', {\n    ref: \"formData\",\n    staticClass: \"card-box login-form\",\n    attrs: {\n      \"autoComplete\": \"on\",\n      \"model\": _vm.formData,\n      \"rules\": _vm.loginRules,\n      \"label-position\": \"left\",\n      \"label-width\": \"0px\"\n    }\n  }, [_c('h3', {\n    staticClass: \"title\"\n  }, [_vm._v(\"编辑\")]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"username\",\n      \"label\": \"任务名\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"name\": \"name\",\n      \"type\": \"text\",\n      \"autoComplete\": \"on\",\n      \"placeholder\": \"任务名\"\n    },\n    model: {\n      value: (_vm.formData.name),\n      callback: function($$v) {\n        _vm.formData.name = $$v\n      },\n      expression: \"formData.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"username\",\n      \"label\": \"搜索\"\n    }\n  }, [_c('query-select', {\n    ref: \"templateSelect\",\n    attrs: {\n      \"api\": _vm.templateApi\n    },\n    on: {\n      \"change\": _vm.handleTemplateChange\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"username\"\n    }\n  }, [_c('span', {\n    staticClass: \"svg-container\"\n  }, [_c('icon-svg', {\n    attrs: {\n      \"icon-class\": \"jiedianyoujian\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-input', {\n    attrs: {\n      \"name\": \"domain\",\n      \"type\": \"number\",\n      \"autoComplete\": \"on\",\n      \"placeholder\": \"周期\"\n    },\n    model: {\n      value: (_vm.formData.cycle),\n      callback: function($$v) {\n        _vm.formData.cycle = $$v\n      },\n      expression: \"formData.cycle\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"username\"\n    }\n  }, [_c('span', {\n    staticClass: \"svg-container\"\n  }, [_c('icon-svg', {\n    attrs: {\n      \"icon-class\": \"jiedianyoujian\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-input', {\n    attrs: {\n      \"name\": \"domain\",\n      \"type\": \"number\",\n      \"autoComplete\": \"on\",\n      \"placeholder\": \"线程数\"\n    },\n    model: {\n      value: (_vm.formData.threadNum),\n      callback: function($$v) {\n        _vm.formData.threadNum = $$v\n      },\n      expression: \"formData.threadNum\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    staticStyle: {\n      \"width\": \"100%\"\n    },\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.loading\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.handleCommit($event)\n      }\n    }\n  }, [_vm._v(\"\\n                提交\\n            \")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-76f116ef\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/task/edit.vue\n// module id = 290\n// module chunks = 1"],"sourceRoot":""}